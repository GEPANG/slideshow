<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./slideshow.css">
    <title>Document</title>
</head>
<body>
    <div class="content">
        <!-- 需要轮播的图片 -->
        <div class="photo">
            <a href="#"><img src="./image/food1.png" alt=""></a>
            <a href="#"><img src="./image/food2.png" alt=""></a>
            <a href="#"><img src="./image/food3.png" alt=""></a>
            <a href="#"><img src="./image/food4.png" alt=""></a>
            <a href="#"><img src="./image/food5.png" alt=""></a>
            <a href="#"><img src="./image/food6.png" alt=""></a>
        </div>
        <!-- 图片下面的那一排小圆点-->
        <div class="point">
            <ul>
                <li class="active">0</li>
                <li>1</li>
                <li>2</li>
                <li>3</li>
                <li>4</li>
                <li>5</li>
            </ul>
        </div>
        <!-- 左右按钮 -->
      <div class="btn">
          <a href="#" class="left">&lt;</a>
          <a href="#" class="right">&gt;</a>
      </div>
    </div>
    <div style="height: 200px;"></div>

    <script>
   var left = document.querySelector('.left');
   var right = document.querySelector('.right');
   var photo = document.querySelector('.photo');
   var imgLong = photo.getElementsByTagName('img');
    var awayOffset = imgLong.length* -800;
    var offset = 0;

   left.onclick = function(){
       index -= 1;
       if(offset === 0){
           offset = awayOffset;
           index = liLong.length -1;
       }
    /*   if(photo.style.left === 0 + 'px'){
           index = 5;
           offset = awayOffset;
       }*/
       offset += 800;
       photo.style.left = offset + 'px';
       circle();
   }
   right.onclick = function(){
       offset -= 800;
       index += 1;
       if(offset === awayOffset){ 
           offset = 0;
           index = 0;
       }/*
       if(photo.style.left === /[01234]/ * -800 + 'px'){
           index = index;
           offset = index * 800;
       }
       if(photo.style.left === -4000 + 'px'){
           index = 0;
           offset = 0;
       }*/
       photo.style.left = offset + 'px';
       circle();
   }
   
   var timer;
   function play(){
       timer = setInterval(function(){
           left.onclick();
       },2000);
   }
   play();

   function stop(){
       clearInterval(timer);
   }
   photo.onmouseover = stop;
   photo.onmouseout = play;

   var point = document.querySelector('.point');
   var liLong = point.getElementsByTagName('li')
   index = 0;
   function circle(){
    for(var i =0; liLong.length > i; i++){
       if(liLong[i].className == 'active'){
           liLong[i].className = '';
       }
       liLong[index].className = 'active';
   }
}

    for(i = 0; liLong.length > i; i++){
        (function(i){
        liLong[i].onclick = function(){
            offset = i * -800;
            photo.style.left = i * -800 + 'px';
             
            index = i;
            circle();
        }
    })(i);
}
 
    </script>
</body>
</html>